/* src/index.css — FEUILLE UNIQUE HEXAIT AMÉLIORÉE */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@700;800;900&display=swap");

/* OBLIGATOIRE : ces 3 lignes AVANT tout @layer */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Variables CSS modernes ==== */
:root {
  --primary-gradient: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 50%, #06B6D4 100%);
  --accent-glow: 0 0 20px rgba(139, 92, 246, 0.3);
  --neon-cyan: 0 0 15px rgba(6, 182, 212, 0.5);
  --transition-smooth: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ==== Base améliorée ==== */
@layer base {
  html { 
    scroll-behavior: smooth; 
  }
  
  body { 
    @apply bg-navy text-slate-100 font-body;
    background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #0F172A 100%);
    background-attachment: fixed;
  }
  
  h1,h2,h3,h4 { 
    @apply font-display tracking-tight;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  a { 
    @apply text-cyan-300 hover:text-cyan-200 transition-colors duration-300;
  }
}

/* ==== Design System amélioré ==== */
@layer components {
  /* Layout avec animations */
  .container { 
    @apply mx-auto max-w-7xl px-6;
  }
  
  .section { 
    @apply container py-16;
    position: relative;
  }
  
  /* NOUVEAU : Espacement amélioré pour la section CTA */
  .section-cta {
    @apply container py-20 lg:py-24; /* Plus d'espace vertical */
    position: relative;
    margin-bottom: 4rem; /* Espace supplémentaire avant le footer */
  }
  
  .card { 
    @apply rounded-2xl p-6 bg-white/5 ring-1 ring-white/10 shadow-card;
    backdrop-filter: blur(10px);
    transition: var(--transition-smooth);
    background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  }
  
  .card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 
      0 20px 40px rgba(0,0,0,0.3),
      var(--accent-glow);
    background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%);
  }

  /* ==== CORRECTION COMPLÈTE DES BOUTONS ==== */
  .btn { 
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-5 py-3 ring-1 transition-all duration-300 font-semibold;
    position: relative;
    overflow: hidden;
    background: transparent;
    min-height: 44px; /* Hauteur minimale cohérente */
    line-height: 1.2; /* Line-height uniforme */
  }
  
  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    transition: left 0.6s ease;
  }
  
  .btn:hover::before {
    left: 100%;
  }
  
  .btn-primary { 
    @apply bg-cyan-400/20 ring-cyan-400/60 hover:bg-cyan-400/30 hover:ring-cyan-400/80;
    box-shadow: var(--neon-cyan);
  }
  
  /* CORRECTION : btn-ghost sans fond gris et alignement parfait */
  .btn-ghost { 
    @apply text-white hover:text-white items-center justify-center;
    background: transparent !important;
    backdrop-filter: none !important;
    border: none !important;
    ring: none !important;
    box-shadow: none !important;
    display: inline-flex !important;
    min-height: 44px;
    line-height: 1.2;
  }
    
  .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05) !important;
    transform: translateY(-1px);
  }
  
  /* NOUVELLE COULEUR : Émeraude au lieu de violet/cyan */
  .btn-cta { 
    @apply btn text-slate-900 font-bold ring-0 items-center justify-center;
    background: linear-gradient(135deg, #10B981 0%, #059669 50%, #047857 100%);
    background-size: 200% auto;
    box-shadow: 
      0 4px 15px rgba(16, 185, 129, 0.3),
      0 0 15px rgba(5, 150, 105, 0.4);
    transition: all 0.5s ease;
    min-height: 44px;
    line-height: 1.2;
  }
  
  .btn-cta:hover {
    background-position: right center;
    transform: translateY(-2px);
    box-shadow: 
      0 8px 25px rgba(16, 185, 129, 0.4),
      0 0 20px rgba(5, 150, 105, 0.6);
  }

  /* CORRECTION : S'assurer que les boutons dans les cartes n'ont pas de fond gris */
  .card .btn,
  .card .btn-ghost,
  .card .btn-primary {
    background: transparent !important;
    backdrop-filter: none !important;
  }
  
  .card .btn-cta {
    background: linear-gradient(135deg, #10B981 0%, #059669 50%, #047857 100%) !important;
    backdrop-filter: none;
  }

  /* CORRECTION SPÉCIFIQUE : Boutons dans les sections hero */
  .hero-actions .btn-ghost {
    @apply bg-transparent border border-white/30 hover:border-white/50 hover:bg-white/5 items-center justify-center;
    backdrop-filter: blur(10px);
    min-height: 44px;
    line-height: 1.2;
  }

  /* CORRECTION : S'assurer que TOUS les boutons ont le même alignement */
  .card .btn,
  .card .btn-ghost,
  .card .btn-primary,
  .card .btn-cta {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 44px;
    line-height: 1.2;
  }

  /* Navbar améliorée avec transitions fluides */
  .navbar { 
    @apply sticky top-0 z-50 border-b border-white/10 transition-all duration-500 ease-out;
    backdrop-filter: blur(20px);
  }
  
  .navbar.transparent { 
    @apply bg-transparent;
    background: rgba(15, 23, 42, 0.1) !important;
  }
  
  .navbar.solid { 
    @apply bg-navy/95 backdrop-blur-xl;
    background: rgba(15, 23, 42, 0.95) !important;
    box-shadow: 
      0 8px 32px rgba(0,0,0,0.3),
      inset 0 1px 0 rgba(255,255,255,0.1);
  }
  
  .nav-inner { 
    @apply container h-20 flex items-center justify-between;
    transition: all 0.4s ease;
  }
  
  .nav-link { 
    @apply relative text-base text-slate-300 hover:text-cyan-200 transition-all duration-300 font-medium;
    padding: 8px 12px;
    border-radius: 8px;
  }
  
  .nav-link::after { 
    content:""; 
    position:absolute; 
    left:50%; 
    bottom:-4px; 
    width:0; 
    height:2px; 
    background:var(--primary-gradient);
    transition: all 0.3s ease;
    transform: translateX(-50%);
  }
  
  .nav-link:hover::after { 
    width:80%; 
  }
  
  .nav-link-active { 
    @apply text-cyan-300 font-semibold;
    background: rgba(6, 182, 212, 0.1);
    border-radius: 8px;
  }

  /* Hero section avec animations */
  .video-wrap { 
    @apply relative overflow-hidden border-b border-white/10 min-h-screen;
  }
  
  .video-bg { 
    position:absolute; 
    inset:0; 
    width:100%; 
    height:100%; 
    object-fit:cover;
    animation: float 20s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: scale(1) translateY(0px); }
    50% { transform: scale(1.05) translateY(-10px); }
  }
  
  .video-veil {
    position:absolute; 
    inset:0;
    background:
      radial-gradient(60% 60% at 10% -20%, rgba(16, 185, 129, 0.2), transparent), /* Changé pour émeraude */
      radial-gradient(60% 60% at 100% 0%, rgba(59, 130, 246, 0.3), transparent),
      radial-gradient(40% 40% at 50% 100%, rgba(6, 182, 212, 0.2), transparent),
      linear-gradient(to bottom, rgba(15,23,42,.2), rgba(15,23,42,.8) 65%, rgba(15,23,42,1));
    animation: veilPulse 8s ease-in-out infinite;
  }
  
  @keyframes veilPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.9; }
  }
  
  .hero { 
    @apply section relative text-center min-h-screen flex flex-col items-center justify-center;
  }
  
  .hero-badge { 
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold bg-white/10 ring-1 ring-white/20 backdrop-blur;
    animation: badgePulse 2s ease-in-out infinite;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  }
  
  @keyframes badgePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  .hero-title { 
    @apply mt-6 text-5xl md:text-7xl font-black;
    background: linear-gradient(135deg, #E2E8F0 0%, #94A3B8 50%, #CBD5E1 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: titleGlow 3s ease-in-out infinite;
  }
  
  @keyframes titleGlow {
    0%, 100% { text-shadow: 0 0 20px rgba(16, 185, 129, 0.3); } /* Changé pour émeraude */
    50% { text-shadow: 0 0 30px rgba(16, 185, 129, 0.6), 0 0 40px rgba(6, 182, 212, 0.4); }
  }
  
  .hero-sub   { 
    @apply mt-6 text-slate-300 max-w-2xl text-lg leading-relaxed;
    animation: fadeInUp 1s ease-out 0.3s both;
  }
  
  .hero-actions { 
    @apply mt-10 flex gap-4 flex-wrap justify-center;
    animation: fadeInUp 1s ease-out 0.6s both;
  }

  /* NOUVEAU : Indicateurs de confiance avec meilleur espacement */
  .hero-trust-indicators {
    @apply mt-8 pt-8 border-t border-white/10;
  }

  .trust-item {
    @apply flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-white/10 hover:scale-105;
  }

  /* Indicateur de scroll amélioré */
  .scroll-cue {
    position:absolute; 
    bottom:30px; 
    left:50%; 
    transform:translateX(-50%);
    height:44px; 
    width:26px; 
    border:2px solid rgba(16, 185, 129, 0.6); /* Changé pour émeraude */
    border-radius:16px;
    display:grid; 
    place-items:center;
    opacity:.9;
    backdrop-filter: blur(10px);
    background: rgba(15, 23, 42, 0.3);
    animation: cueContainer 2s ease-in-out infinite;
  }
  
  @keyframes cueContainer {
    0%, 100% { transform: translateX(-50%) translateY(0px); }
    50% { transform: translateX(-50%) translateY(-10px); }
  }
  
  .scroll-cue span {
    display:block; 
    width:3px; 
    height:10px; 
    border-radius:3px; 
    background: linear-gradient(135deg, #10B981 0%, #059669 50%, #047857 100%); /* Changé pour émeraude */
    animation:cue 1.8s ease-in-out infinite;
  }
  
  @keyframes cue {
    0% { transform:translateY(-8px); opacity:.3; }
    50% { transform:translateY(4px);  opacity:1;  }
    100%{ transform:translateY(-8px); opacity:.3; }
  }

  /* Grilles animées */
  .grid-3 { 
    @apply grid md:grid-cols-3 gap-8;
  }

  /* Footer amélioré avec plus d'espace au-dessus */
  .footer { 
    @apply border-t border-white/10 bg-slate-900/50 mt-16; /* mt-16 pour espace supplémentaire */
    backdrop-filter: blur(20px);
  }
  
  .footer-inner { 
    @apply container py-12 text-sm text-slate-400 flex flex-col md:flex-row items-start md:items-center justify-between gap-6;
  }

  /* NOUVEAU : Section CTA avec espacement amélioré */
  .cta-section {
    @apply relative overflow-hidden py-20 lg:py-24 mb-16; /* mb-16 pour espace avant footer */
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 50%, rgba(15, 23, 42, 0.95) 100%);
  }

  .cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(ellipse at 20% 50%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
      radial-gradient(ellipse at 40% 80%, rgba(6, 182, 212, 0.1) 0%, transparent 50%);
    pointer-events: none;
  }

  /* Formulaires avec focus moderne */
  .field { 
    @apply w-full rounded-xl bg-white/5 ring-1 ring-white/10 px-4 py-3 transition-all duration-300;
  }
  
  .field:focus {
    @apply ring-2 ring-cyan-400/50 bg-white/10;
    box-shadow: var(--neon-cyan);
    transform: translateY(-2px);
  }
  
  .error { 
    @apply text-red-400 text-sm mt-2 animate-pulse;
  }
}

/* ==== Animations de révélation avancées ==== */
.reveal {
  opacity: 0;
  transform: translateY(30px) rotateX(5deg);
  filter: blur(8px) saturate(.7);
  transition:
    opacity 0.8s cubic-bezier(0.22, 1, 0.36, 1),
    transform 0.8s cubic-bezier(0.22, 1, 0.36, 1),
    filter 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  will-change: opacity, transform, filter;
}

.reveal.show {
  opacity: 1;
  transform: translateY(0) rotateX(0);
  filter: blur(0) saturate(1);
}

/* Délays progressifs */
.reveal-delay-0 { transition-delay: 0.1s; }
.reveal-delay-1 { transition-delay: 0.2s; }
.reveal-delay-2 { transition-delay: 0.3s; }
.reveal-delay-3 { transition-delay: 0.4s; }
.reveal-delay-4 { transition-delay: 0.5s; }
.reveal-delay-5 { transition-delay: 0.6s; }

/* Animation spéciale hero */
@keyframes heroPop {
  0%   { 
    opacity:0; 
    transform:translateY(40px) scale(.9) rotateX(10deg); 
    filter:blur(12px) hue-rotate(45deg);
  }
  60%  { 
    opacity:1; 
    transform:translateY(-5px) scale(1.02) rotateX(0); 
    filter:blur(0) hue-rotate(0);
  }
  100% { 
    opacity:1; 
    transform:translateY(0) scale(1) rotateX(0); 
    filter:blur(0) hue-rotate(0);
  }
}

.reveal-title {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  animation: heroPop 1.2s cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* ==== Effets de hover spéciaux ==== */
.hover-lift {
  transition: var(--transition-smooth);
}

.hover-lift:hover {
  transform: translateY(-8px) scale(1.02);
}

.hover-glow {
  transition: var(--transition-smooth);
}

.hover-glow:hover {
  box-shadow: 
    var(--accent-glow),
    0 20px 40px rgba(0,0,0,0.4);
}

/* ==== Animation de particules (optionnelle) ==== */
.particles::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(2px 2px at 20px 30px, #EEEEEE, transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(16, 185, 129, 0.3), transparent), /* Changé pour émeraude */
    radial-gradient(1px 1px at 90px 40px, #FFFFFF, transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(6, 182, 212, 0.3), transparent);
  background-repeat: repeat;
  background-size: 200px 200px;
  opacity: 0.3;
  animation: particlesMove 20s linear infinite;
  pointer-events: none;
}

@keyframes particlesMove {
  from { transform: translateY(0px); }
  to { transform: translateY(-200px); }
}

/* ==== NOUVEAUX STYLES POUR L'ESPACEMENT ==== */
/* Espacement amélioré entre les sections */
.section + .section {
  @apply pt-0; /* Réinitialiser le padding top quand les sections se suivent */
}

/* Espacement spécifique pour la section avant le footer */
.section-cta + .footer {
  @apply mt-16; /* Espace généreux avant le footer */
}

/* Container CTA amélioré */
.cta-container {
  @apply container mx-auto max-w-4xl text-center relative z-10;
}

/* ==== Responsive amélioré ==== */
@media (max-width: 768px) {
  .hero-title {
    @apply text-4xl;
  }
  
  .card:hover {
    transform: translateY(-3px) scale(1.01);
  }
  
  .btn-cta:hover {
    transform: translateY(-1px);
  }
  
  /* Espacement mobile amélioré */
  .section-cta {
    @apply py-16;
  }
  
  .cta-section {
    @apply py-16 mb-12;
  }
  
  .footer {
    @apply mt-12;
  }
}

@media (min-width: 1024px) {
  .section-cta {
    @apply py-24;
  }
  
  .cta-section {
    @apply py-24 mb-20;
  }
}

/* ==== Mode réduction motion ==== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .video-bg { 
    display: none; 
  }
  
  .reveal {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}

/* ==== CORRECTIONS SPÉCIFIQUES POUR LES BOUTONS ==== */
/* S'assurer qu'aucun bouton n'a de fond gris indésirable */
.btn-ghost,
.btn-primary,
.btn-cta {
  background-origin: border-box !important;
  background-clip: padding-box !important;
}

/* Supprimer tout effet de fond gris sur les boutons dans les cartes */
.card .btn,
.card .btn-ghost,
.card .btn-primary {
  background: transparent !important;
  backdrop-filter: none !important;
}

/* Sauf pour le bouton CTA qui doit garder son dégradé */
.card .btn-cta {
  background: linear-gradient(135deg, #10B981 0%, #059669 50%, #047857 100%) !important;
}

/* ==== AMÉLIORATIONS DE PERFORMANCE ==== */
/* Optimisation des animations pour le GPU */
.reveal,
.card,
.btn,
.hero-title {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000;
}

/* ==== CORRECTIONS D'ACCESSIBILITÉ ==== */
@media (prefers-contrast: high) {
  .card {
    background: rgba(255, 255, 255, 0.1) !important;
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
  }
  
  .btn-cta {
    background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
  }
}

/* Focus visible pour l'accessibilité */
.btn:focus-visible,
.nav-link:focus-visible,
.field:focus-visible {
  outline: 2px solid #10B981;
  outline-offset: 2px;
}

/* ==== CORRECTIONS POUR LES FORMULAIRES ==== */
/* Style des selects */
select.field {
  @apply bg-white/5 border border-white/10 text-white;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

select.field option {
  @apply bg-slate-800 text-white;
}

select.field:focus {
  @apply ring-2 ring-cyan-400/50 border-cyan-400/30;
}

/* Style du file input */
input[type="file"].field {
  @apply bg-white/5 border border-white/10 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-500 file:text-white hover:file:bg-cyan-600 transition-colors cursor-pointer;
}

/* Style des checkboxes dans les labels */
label:has(input[type="checkbox"]) {
  @apply transition-all duration-200 cursor-pointer hover:bg-white/10 hover:ring-cyan-400/30;
}

label:has(input[type="checkbox"]:checked) {
  @apply bg-cyan-500/10 ring-cyan-400/50;
}

/* Style des details/summary */
details {
  @apply bg-white/5 rounded-lg p-3 border border-white/10;
}

details[open] {
  @apply bg-white/10;
}

summary {
  @apply font-semibold text-slate-200 cursor-pointer hover:text-cyan-200 transition-colors;
}

details p {
  @apply text-slate-300 text-sm;
}